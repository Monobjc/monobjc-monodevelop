<?xml version="1.0" encoding="utf-8"?>
<Addin id="MonoDevelop.Monobjc"
       name="Monobjc Development"
       author="Laurent Etiemble"
       url="http://www.monobjc.net/"
       description="Development of Mac OS X applications using Monobjc."
       copyright="GPL"
       category="Mac Development"
       version="5.0.2527.3">

  <!-- Header -->
  <Header>
    <Icon32>Icons/monobjc-logo-32.png</Icon32>
  </Header>

  <Runtime>
    <!-- Assemblies -->
    <Import assembly="MonoDevelop.Monobjc.dll" />
    <Import assembly="Monobjc.Tools.dll" />
    <Import assembly="Antlr4.Runtime.v4.0.dll" />
    <!-- Common Templates -->
    <Import file="Templates/MonobjcFileDefinitionPList.xft.xml"/>
    <Import file="Templates/MonobjcFileEntitlementsPList.xft.xml"/>
    <Import file="Templates/MonobjcFileInfoPList.xft.xml"/>
    <Import file="Templates/MonobjcFileInfoPListDocument.xft.xml"/>
    <Import file="Templates/MonobjcFileLocalizableStrings.xft.xml"/>
    <Import file="Templates/MonobjcProjectEmpty.xpt.xml"/>
    <Import file="Templates/MonobjcXibEmpty.xft.xml"/>
    <Import file="Templates/MonobjcXibView.xft.xml"/>
    <Import file="Templates/MonobjcXibWindow.xft.xml"/>
    <!-- C# Templates -->
    <Import file="Templates/CS/MonobjcFileNSObject.xft.xml"/>
    <Import file="Templates/CS/MonobjcFileNSView.xft.xml"/>
    <Import file="Templates/CS/MonobjcFileNSViewController.xft.xml"/>
    <Import file="Templates/CS/MonobjcFileNSWindowController.xft.xml"/>
    <Import file="Templates/CS/MonobjcProjectCocoaApplication.xpt.xml"/>
    <Import file="Templates/CS/MonobjcProjectCocoaApplicationDocument.xpt.xml"/>
    <Import file="Templates/CS/MonobjcProjectCocoaLibrary.xpt.xml"/>
    <Import file="Templates/CS/MonobjcProjectConsoleApplication.xpt.xml"/>
    <!-- VBNet Templates
    <Import file="Templates/VB/MonobjcFileNSObject.xft.xml"/>
    <Import file="Templates/VB/MonobjcFileNSView.xft.xml"/>
    <Import file="Templates/VB/MonobjcProjectCocoaApplication.xpt.xml"/>
    <Import file="Templates/VB/MonobjcProjectCocoaApplicationDocument.xpt.xml"/>
    <Import file="Templates/VB/MonobjcProjectCocoaLibrary.xpt.xml"/>
    <Import file="Templates/VB/MonobjcProjectConsoleApplication.xpt.xml"/>
	-->
    <!-- F# Templates
    <Import file="Templates/FS/MonobjcFileNSObject.xft.xml"/>
    <Import file="Templates/FS/MonobjcFileNSView.xft.xml"/>
    <Import file="Templates/FS/MonobjcProjectCocoaApplication.xpt.xml"/>
    <Import file="Templates/FS/MonobjcProjectCocoaApplicationDocument.xpt.xml"/>
    <Import file="Templates/FS/MonobjcProjectCocoaLibrary.xpt.xml"/>
    <Import file="Templates/FS/MonobjcProjectConsoleApplication.xpt.xml"/>
	-->
  </Runtime>

  <!-- Dependencies -->
  <Dependencies>
    <Addin id="MonoDevelop.Core" version="5.0" />
    <Addin id="MonoDevelop.Ide" version="5.0" />
    <Addin id="MonoDevelop.Debugger" version="5.0"/>
    <Addin id="MonoDevelop.Debugger.Soft" version="5.0"/>
    <Addin id="MonoDevelop.Deployment" version="5.0" />
    <Addin id="MonoDevelop.DesignerSupport" version="5.0" />
    <Addin id="MonoDevelop.Refactoring" version="5.0"/>
  </Dependencies>

  <!-- File Templates -->
  <Extension path="/MonoDevelop/Ide/FileTemplates">
    <!-- Common Templates -->
    <FileTemplate id="MonobjcFileDefinitionPList"
                  file="Templates/MonobjcFileDefinitionPList.xft.xml"/>
    <FileTemplate id="MonobjcFileEntitlementsPList"
                  file="Templates/MonobjcFileEntitlementsPList.xft.xml"/>
    <FileTemplate id="MonobjcFileInfoPListDocument"
                  file="Templates/MonobjcFileInfoPListDocument.xft.xml"/>
    <FileTemplate id="MonobjcFileInfoPList"
                  file="Templates/MonobjcFileInfoPList.xft.xml"/>
    <FileTemplate id="MonobjcFileLocalizableStrings"
                  file="Templates/MonobjcFileLocalizableStrings.xft.xml"/>
    <FileTemplate id="MonobjcXibEmpty"
                  file="Templates/MonobjcXibEmpty.xft.xml"/>
    <FileTemplate id="MonobjcXibView"
                  file="Templates/MonobjcXibView.xft.xml"/>
    <FileTemplate id="MonobjcXibWindow"
                  file="Templates/MonobjcXibWindow.xft.xml"/>
    <!-- C# Templates -->
    <FileTemplate id="MonobjcCSFileNSObject"
                  file="Templates/CS/MonobjcFileNSObject.xft.xml"/>
    <FileTemplate id="MonobjcCSFileNSView"
                  file="Templates/CS/MonobjcFileNSView.xft.xml"/>
    <FileTemplate id="MonobjcCSFileNSViewController"
                  file="Templates/CS/MonobjcFileNSViewController.xft.xml"/>
    <FileTemplate id="MonobjcCSFileNSWindowController"
                  file="Templates/CS/MonobjcFileNSWindowController.xft.xml"/>
    <!-- VBNet Templates
    <FileTemplate id="MonobjcVBFileNSObject"
                  file="Templates/VB/MonobjcFileNSObject.xft.xml"/>
    <FileTemplate id="MonobjcVBFileNSView"
                  file="Templates/VB/MonobjcFileNSView.xft.xml"/>
    -->
    <!-- F# Templates
    <FileTemplate id="MonobjcFSFileNSObject"
                  file="Templates/FS/MonobjcFileNSObject.xft.xml"/>
    <FileTemplate id="MonobjcFSFileNSView"
                  file="Templates/FS/MonobjcFileNSView.xft.xml"/>
    -->
  </Extension>

  <!-- Project Templates -->
  <Extension path="/MonoDevelop/Ide/ProjectTemplates">
    <!-- Common Templates -->
    <ProjectTemplate id="MonobjcProjectEmpty"
                     file="Templates/MonobjcProjectEmpty.xpt.xml"/>
    <!-- C# Templates -->
    <ProjectTemplate id="MonobjcCSProjectCocoaApplication"
                     file="Templates/CS/MonobjcProjectCocoaApplication.xpt.xml"/>
    <ProjectTemplate id="MonobjcCSProjectCocoaApplicationDocument"
                     file="Templates/CS/MonobjcProjectCocoaApplicationDocument.xpt.xml"/>
    <ProjectTemplate id="MonobjcCSProjectCocoaLibrary"
                     file="Templates/CS/MonobjcProjectCocoaLibrary.xpt.xml"/>
    <ProjectTemplate id="MonobjcCSProjectConsoleApplication"
                     file="Templates/CS/MonobjcProjectConsoleApplication.xpt.xml"/>
    <!-- VBNet Templates
    <ProjectTemplate id="MonobjcVBProjectConsoleApplication"
                     file="Templates/VB/MonobjcProjectConsoleApplication.xpt.xml"/>
    <ProjectTemplate id="MonobjcVBProjectCocoaApplication"
                     file="Templates/VB/MonobjcProjectCocoaApplication.xpt.xml"/>
    <ProjectTemplate id="MonobjcVBProjectCocoaApplicationDocument"
                     file="Templates/VB/MonobjcProjectCocoaApplicationDocument.xpt.xml"/>
    <ProjectTemplate id="MonobjcVBProjectCocoaLibrary"
                     file="Templates/VB/MonobjcProjectCocoaLibrary.xpt.xml"/>
    -->
    <!-- F# Templates
    <ProjectTemplate id="MonobjcFSProjectConsoleApplication"
                     file="Templates/FS/MonobjcProjectConsoleApplication.xpt.xml"/>
    <ProjectTemplate id="MonobjcFSProjectCocoaApplication"
                     file="Templates/FS/MonobjcProjectCocoaApplication.xpt.xml"/>
    <ProjectTemplate id="MonobjcFSProjectCocoaApplicationDocument"
                     file="Templates/FS/MonobjcProjectCocoaApplicationDocument.xpt.xml"/>
    <ProjectTemplate id="MonobjcFSProjectCocoaLibrary"
                     file="Templates/FS/MonobjcProjectCocoaLibrary.xpt.xml"/>
    -->
  </Extension>

  <!-- Icons -->
  <Extension path="/MonoDevelop/Core/StockIcons">
    <StockIcon stockid="md-monobjc" resource="monobjc-16.png" size="Menu" />
    <StockIcon stockid="md-monobjc" resource="monobjc-24.png" size="Button" />
    <StockIcon stockid="md-monobjc-fmk" resource="monobjc-fmk-16.png" size="Menu" />
    <StockIcon stockid="md-monobjc-logo" resource="monobjc-logo-64.png" />
    <StockIcon stockid="md-monobjc-xib" resource="monobjc-xib-32.png" size="Dnd" />
    <StockIcon stockid="md-monobjc-project" icon="md-project|res:monobjc-overlay-24.png" size="Dnd" />
    <StockIcon stockid="md-monobjc-class" icon="md-class-file" size="Dnd" />
    <StockIcon stockid="md-monobjc-protocol" icon="md-interface-file" size="Dnd" />
    <StockIcon stockid="md-monobjc-plist" icon="md-text-file-icon" size="Dnd" />
    <StockIcon stockid="md-monobjc-strings" icon="md-text-file-icon" size="Dnd" />
  </Extension>

  <Extension path="/MonoDevelop/ProjectModel/MSBuildItemTypes">
    <DotNetProjectSubtype guid="{804445eb-57e1-4f64-8830-61a8701f1c25}"
                          type="MonoDevelop.Monobjc.MonobjcProject" />
  </Extension>

  <!-- Project Bindings -->
  <Extension path="/MonoDevelop/ProjectModel/ProjectBindings">
    <ProjectBinding id="Monobjc"
                    class="MonoDevelop.Monobjc.MonobjcProjectBinding" />
  </Extension>

  <!-- Serializable Classes -->
  <Extension path="/MonoDevelop/ProjectModel/SerializableClasses">
    <DataType class="MonoDevelop.Monobjc.MonobjcProject" />
    <DataType class="MonoDevelop.Monobjc.MonobjcProjectConfiguration" />
  </Extension>

  <!-- ProjectService Extensions -->
  <Extension path="/MonoDevelop/ProjectModel/ProjectServiceExtensions">
    <Class class="MonoDevelop.Monobjc.MonobjcBuildExtension"
           insertafter="MidStep" />
  </Extension>

  <!-- ExecutionHandlers -->
  <Extension path="/MonoDevelop/Core/ExecutionHandlers">
    <ExecutionHandler id="MonobjcExecutionHandler"
                      class="MonoDevelop.Monobjc.MonobjcExecutionHandler"/>
  </Extension>

  <!-- Commands -->
  <Extension path="/MonoDevelop/Ide/Commands/Project">
    <Command id="MonoDevelop.Monobjc.Commands.ExportBundle"
             defaultHandler="MonoDevelop.Monobjc.Commands.ExportBundleCommandHandler"
             _label="Create Monobjc Bundle"
             _description="Export a Monobjc application bundle"/>
    <Command id="MonoDevelop.Monobjc.Commands.OpenDeveloperTools"
             defaultHandler="MonoDevelop.Monobjc.Commands.OpenDeveloperToolsCommandHandler"
             _label="Open in Apple Developer Tools"
             _description="Open a Monobjc project in Apple Developer Tools"/>
  </Extension>

  <!-- Project Menu -->
  <Extension path="/MonoDevelop/Ide/MainMenu/Project">
    <CommandItem id="MonoDevelop.Monobjc.Commands.OpenDeveloperTools"
                 insertafter="MonoDevelop.Ide.Commands.ProjectCommands.ExportProject"/>
    <CommandItem id="MonoDevelop.Monobjc.Commands.ExportBundle"
                 insertafter="MonoDevelop.Ide.Commands.ProjectCommands.ExportProject"/>
  </Extension>

  <!-- Project Context Menu -->
  <Extension path="/MonoDevelop/Ide/ContextMenu/ProjectPad">
    <Condition id="ItemType" value="MonoDevelop.Monobjc.MonobjcProject">
      <CommandItem id="MonoDevelop.Monobjc.Commands.OpenDeveloperTools"
                   insertbefore="MonoDevelop.Ide.Commands.ProjectCommands.Build"/>
    </Condition>
  </Extension>
  <Extension path="/MonoDevelop/Ide/ContextMenu/ProjectPad/Tools">
    <Condition id="ItemType" value="MonoDevelop.Monobjc.MonobjcProject">
      <CommandItem id="MonoDevelop.Monobjc.Commands.ExportBundle"
                   insertafter="MonoDevelop.Ide.Commands.ProjectCommands.ExportProject"/>
    </Condition>
  </Extension>

  <!-- General Options -->
  <Extension path = "/MonoDevelop/Ide/GlobalOptionsDialog/Preferences">
    <Section id = "MonobjcPreferences"
             icon="md-monobjc"
	         _label = "Monobjc"
			 class="MonoDevelop.Monobjc.Gui.PreferencesPanel"
			 fill="true"/>
  </Extension>

  <!-- Project Options -->
  <Extension path="/MonoDevelop/ProjectModel/Gui/ItemOptionPanels/Common">
    <Condition id="ItemType" value="MonoDevelop.Monobjc.MonobjcProject">
      <Section id="MonobjcProjectOptions"
               icon="md-monobjc"
               _label="Monobjc">
        <Panel id="MonobjcProjectOptionsPanel"
               class="MonoDevelop.Monobjc.Gui.ProjectOptionsPanel"
               fill="true" />
      </Section>
    </Condition>
  </Extension>

  <!-- Display Bindings -->
  <Extension path="/MonoDevelop/Ide/DisplayBindings">
    <DisplayBinding id = "MonobjcDeveloperTools"
                    insertafter ="DefaultDisplayBinding"
                    class = "MonoDevelop.Monobjc.DeveloperToolsDisplayBinding" />
  </Extension>

  <!-- Extension point for CodeBehind -->
  <ExtensionPoint path="/Monobjc/CodeBehindGeneration" name="CodeBehind Generators">
    <ExtensionNode name="CodeBehindGenerator"
                   type="MonoDevelop.Monobjc.CodeGeneration.CodeBehindGeneratorCodon"/>
  </ExtensionPoint>

  <!-- Generator for CodeBehind -->
  <Extension path="/Monobjc/CodeBehindGeneration">
    <CodeBehindGenerator id="C#"
                         class="MonoDevelop.Monobjc.CodeGeneration.CSharpCodeBehindGenerator"/>
    <CodeBehindGenerator id="VBNet"
                         class="MonoDevelop.Monobjc.CodeGeneration.VBNetCodeBehindGenerator"/>
    <CodeBehindGenerator id="F#"
                         class="MonoDevelop.Monobjc.CodeGeneration.FSharpCodeBehindGenerator"/>
  </Extension>

  <!-- Debugger Engine -->
  <Extension path="/MonoDevelop/Debugging/DebuggerEngines">
    <DebuggerEngine id="MonoDevelop.Monobjc.Debugger"
                    name="Mono Soft Debugger for Monobjc"
                    features="Breakpoints, Pause, Stepping, DebugFile, ConditionalBreakpoints, Tracepoints, Catchpoints"
                    type="MonoDevelop.Monobjc.Debugger.MonobjcSoftDebuggerEngine" />
  </Extension>

  <!-- Refactorings -->
  <Extension path="/MonoDevelop/Refactoring/Refactorings">
    <Class id="MonobjcCreateIVar" class="MonoDevelop.Monobjc.Refactoring.CreateIVarOperation" />
    <!--
    <Class id="MonobjcCreateProperty" class="MonoDevelop.Monobjc.Refactoring.CreatePropertyOperation" />
    -->
    <Class id="MonobjcImplementProtocol" class="MonoDevelop.Monobjc.Refactoring.ImplementProtocolOperation" />
  </Extension>

  <!-- Refactoring Commands -->
  <Extension path="/MonoDevelop/Ide/Commands/Refactoring">
    <Command id="MonoDevelop.Monobjc.Refactoring.CreateIVar"
             defaultHandler="MonoDevelop.Monobjc.Refactoring.CreateIVarHandler"
             _label="Create Instance Variable"/>
    <!--
    <Command id="MonoDevelop.Monobjc.Refactoring.CreateProperty"
             defaultHandler="MonoDevelop.Monobjc.Refactoring.CreatePropertyHandler"
             _label="Create Property"/>
    -->
    <Command id="MonoDevelop.Monobjc.Refactoring.ImplementProtocol"
             defaultHandler="MonoDevelop.Monobjc.Refactoring.ImplementProtocolHandler"
             _label="Implement Protocol"/>
  </Extension>

</Addin>
